import{a_ as w,b as I,dA as L,b2 as g,bv as k,aV as M,f as $,u as b,i as U,c as A,a$ as o,o as O,e as x,k as n,l as d,s,x as t,t as N,F as E,by as R}from"./index.f5037e0e.js";import{D as S}from"./siteSetting.c485f07c.js";import{c as C,a as V}from"./index.028a86b0.js";import{b as P}from"./index.20502e53.js";import{h as B}from"./header.d801b988.js";import"./useContentViewHeight.bf04c9e4.js";import"./_baseIteratee.95b83d5c.js";import"./index.e7ac3e98.js";import"./useSortable.bb4baa66.js";import"./isEqual.6f9a623a.js";const T=I({name:"UserDropdown",components:{Dropdown:L,Menu:g,MenuItem:C(()=>k(()=>import("./DropMenuItem.892664f6.js"),["assets/DropMenuItem.892664f6.js","assets/index.f5037e0e.js","assets/index.fdb36ded.css"])),MenuDivider:g.Divider,LockAction:C(()=>k(()=>import("./LockModal.e4fb4e5a.js"),["assets/LockModal.e4fb4e5a.js","assets/LockModal.0068f88c.css","assets/index.f5037e0e.js","assets/index.fdb36ded.css","assets/index.20502e53.js","assets/index.f6def211.css","assets/useContentViewHeight.bf04c9e4.js","assets/_baseIteratee.95b83d5c.js","assets/isEqual.6f9a623a.js","assets/useForm.ede354a2.js","assets/useForm.e67c24b5.css","assets/index.be215484.js","assets/index.0c17a9f4.css","assets/index.8089f2c1.js","assets/index.ccc15a38.css","assets/index.75b6fcd6.js","assets/index.17eb4c41.css","assets/index.a3b14931.js","assets/index.c4896195.css","assets/index.7bad8a45.js","assets/index.e0a015a1.css","assets/index.f2477e00.js","assets/index.9604f5a2.css","assets/RedoOutlined.16dcdfe4.js","assets/index.028a86b0.js","assets/index.75b1ec6d.css","assets/index.e7ac3e98.js","assets/index.d1fb21df.css","assets/useSortable.bb4baa66.js","assets/header.d801b988.js"]))},props:{theme:M.oneOf(["dark","light"])},setup(){const{prefixCls:e}=$("header-user-dropdown"),{t:m}=b(),{getShowDoc:u,getUseLockPage:_}=V(),a=U(),f=A(()=>{const{realName:p="",avatar:D,desc:y}=a.getUserInfo||{};return{realName:p,avatar:D||B,desc:y}}),[r,{openModal:i}]=P();function l(){i(!0)}function c(){a.confirmLoginOut()}function h(){R(S)}function v(p){switch(p.key){case"logout":c();break;case"doc":h();break;case"lock":l();break}}return{prefixCls:e,t:m,getUserInfo:f,handleMenuClick:v,getShowDoc:u,register:r,getUseLockPage:_}}}),F=["src"];function z(e,m,u,_,a,f){const r=o("MenuItem"),i=o("Menu"),l=o("Dropdown"),c=o("LockAction");return O(),x(E,null,[n(l,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:d(()=>[n(i,{onClick:e.handleMenuClick},{default:d(()=>[n(r,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:d(()=>[s("span",{class:t([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[s("img",{class:t(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,F),s("span",{class:t(`${e.prefixCls}__info hidden md:block`)},[s("span",{class:t([`${e.prefixCls}__name  `,"truncate"])},N(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),n(c,{onRegister:e.register},null,8,["onRegister"])],64)}var Z=w(T,[["render",z]]);export{Z as default};
